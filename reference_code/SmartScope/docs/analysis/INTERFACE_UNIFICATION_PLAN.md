# SmartScope 第三阶段重构：接口统一计划

## 重构目标
- 统一YOLOv8相关接口
- 优化推理服务接口
- 改进代码质量和命名一致性
- 简化模块依赖关系

## 当前接口分析

### 1. YOLOv8接口
- **统一接口**: src/app/yolov8/yolov8_detector.h
- **服务实现**: src/inference/yolov8_service.cpp
- **问题**: 接口层次不清晰，服务层和接口层混合

### 2. 推理服务接口
- **主服务**: src/inference/inference_service.cpp
- **立体深度**: src/inference/stereo_depth_inference.cpp
- **问题**: 接口设计不一致，缺乏统一抽象

### 3. 模块依赖关系
- **问题**: 循环依赖，层次不清晰
- **目标**: 建立清晰的依赖层次

## 重构计划

### 阶段1: 接口抽象层设计
1. 创建统一的推理接口抽象
2. 设计YOLOv8统一接口
3. 建立服务层抽象

### 阶段2: 实现重构
1. 重构YOLOv8服务实现
2. 统一推理服务接口
3. 优化模块依赖

### 阶段3: 代码质量提升
1. 统一命名规范
2. 改进错误处理
3. 优化性能

## 预期效果
- 接口更加清晰和一致
- 模块依赖关系简化
- 代码质量显著提升
- 维护性大幅改善
